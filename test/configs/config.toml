environment = "development"

[debug]
port = "6060"

[cache.redis]
marshaller = "proto"
compressor = "snappy"

[cache.redis.addresses]
server = "localhost:6379"

[cache.ristretto]
num_counters = 10_000_000
max_cost = 100_000_000
buffer_items = 64

[feature]
kind = "flipt"
host = "localhost:9000"

[feature.retry]
timeout = "1s"
attempts = 3

[hooks]
secret = "YWJjZGUxMjM0NQ=="

[limiter]
kind = "user-agent"
pattern = "10-S"

[sql.pg]
max_open_conns = 5
max_idle_conns = 5
conn_max_lifetime = "1h"

[[sql.pg.masters]]
url = "postgres://test:test@localhost:5432/test?sslmode=disable"

[[sql.pg.slaves]]
url = "postgres://test:test@localhost:5432/test?sslmode=disable"

[telemetry.logger]
level = "info"

[telemetry.metrics]
kind = "prometheus"

[telemetry.tracer]
kind = "otlp"
host = "http://localhost:4318/v1/traces"

[time.ntp]
host = "0.beevik-ntp.pool.ntp.org"

[time.nts]
host = "time.cloudflare.com"

[token]
kind = "none"

[transport.http]
port = "11000"
user_agent = "Service http/1.0"

[transport.http.retry]
timeout = "1s"
attempts = 3

[transport.grpc]
port = "12000"
user_agent = "Service grpc/1.0"


[transport.grpc.retry]
timeout = "1s"
attempts = 3
